---
title: "このブログの実装 2020年版"
date: 2020-09-25T23:27:23-07:00
---
r7kamura さんの[このサイトの実装 2020年版](https://r7kamura.com/articles/2020-09-23-this-site-setup-2020)に倣って、このブログの実装を書いてみる。

「サイト」じゃないのは、8-p.info は仕組みなどが似ていながらも別れているからで、それでいうと blog.8-p.info のトップにある目次ページも、別のシステムで動いている。今回は /ja/ と /en/ 以下の話です。

### ホスティング

S3 + CloudFront で静的ファイルを配信している。

AWS 社員としてドッグフード[^dogfood]しています! といっても S3 にはじめてブログをおいたのは2011年なので、Amazon に転職するよりずっと前である。そのころは [S3 の静的サイトホスティング](https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/dev/WebsiteHosting.html)を使っていて、手軽でよかった。

CloudFront を入れたのは、高速化というよりかは HTTPS 化のため。

### ドメイン

[Namecheap](https://www.namecheap.com/) を使っている。前はムームードメインで、さらに昔はバリュードメインだったはず。

ドメインをとったのは大学に入って自分のクレジットカードをもった年のはずで、昔はメールアドレスも 8-p.info にしたりしていた。メールサーバーを立てたりはせずに、バックエンドは Gmail にしていた、と思っていたけれど、[Gmail の歴史](https://en.wikipedia.org/wiki/History_of_Gmail)を確認すると年があわないので、最初はプロバイダのメールアドレスに転送していたのかもしれない。

当時に自分が所属していた、という意識があったコミュニティは Linux 界隈で、ここは自分のドメインをもっている人が多かった記憶がある。

### ビルド

GitHub Actions を使って、[kzys/blog](https://github.com/kzys/blog) にコミットしたら、自動的に前述の S3 にファイルをアップロードして、CloudFront のキャッシュを消すようにしてある。

静的サイトジェネレータは Hugo を使っている。

私は2008年から2016年にかけて、毎年別のブログを作るという奇行[^eto]をしていたことがあって、[セコンさんのリンク集](https://secon.dev/link/)でも、

> シアトルのエンジニア kzys。毎年ブログを式年遷宮してる。

と紹介されている。

当初はこれで、色々なブログエンジンをデータの移行を気にせずに試せる! と思っていて、実際に Catalyst 自作 -> WordPress -> Tokyo Promenade -> Jekyll -> Play 自作 -> Jekyll -> Rails 自作 -> Hakyll -> Hugo と色々使った。

ただ、段々と静的サイトジェネレータに落ち着きがちになってきたこと、前述の HTTPS 化にともなう設定項目の増加、子供が生まれてだんだん忙しくなってきたし、というので blog.8-p.info に戻ってきたという経緯がある。

Hugo の設定としては `ja/` と `en/` は完全に別のインスタンスで、テーマだけシンボリックリンクをはって共有している。

### デザイン

シンプル。たまに Google Fonts にあるようなちょっと変わったフォントを使いたくなるし、実際に使ったこともあるはずだけど、結局なんとなく落ち着かなくて Helvetica Neue あたりに戻りがち。

仕事で HTML や CSS を書くことはなくなってしまったけど、いまだに自分で簡単なものを書くのは好きで、人が作ったテーマに身を任せられないでいる。

Edward Tufte っぽく、横に脚注をつけれるようになっているけど、これもそこまで使っていない。

### 記事の書き方

Markdown を使っている。

実は [nb2hugo](https://github.com/kzys/nb2hugo) を使って Jupyter Notebook を Markdown に変換する仕組みもついているんだけど、Jupyter 使うようなものを最近書いていない。

[^dogfood]: 少し前の [Rebuild](https://rebuild.fm/270/) に "fishfooding" という話があったけれど、うちの社内には "drink your own champagne" という派閥の人々がいる。おしゃれ。

[^eto]: [江渡浩一郎](http://eto.com/)さんが、毎年メールアドレスを変えるという奇行をしていて、それにも影響された。
